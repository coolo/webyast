source 'http://rubygems.org'

gem 'rails', '3.1.3'

gem 'devise'
gem 'devise-i18n'
gem 'devise_unix2_chkpwd_authenticatable'
gem 'cancan'
gem 'polkit1'


gem "sqlite3-ruby", :require => "sqlite3"

gem 'haml'
gem 'jquery-rails'
gem "ruby-dbus"
gem 'delayed_job', '2.1.4'
gem 'static_record_cache'

gem 'nokogiri'
gem "fast_gettext", '>= 0.6.4'
gem 'gettext_i18n_rails', '>= 0.4.3'

gem 'inifile'
gem 'execjs'

group :assets do
  gem 'uglifier'
  gem 'therubyracer'
end

plugin_path = File.expand_path("../../plugins",  __FILE__)
gemspecs = Dir.glob(File.join(plugin_path, "**", "*.gemspec"))

unless gemspecs.empty?
  #We are in devel. mode. Loading all plugins
  gemspecs.each do |gemspec|
    plugin_name = gemspec.split("/").pop.split(".").first
    gem plugin_name, :path => File.expand_path("../../plugins/#{gemspec.split("/").pop(2).first}", __FILE__)
  end
else
  #Loading gems from the official path
  `gem list`.split("\n").each do |gem_name_version|
    gem_name = gem_name_version.split.first
    gem gem_name if gem_name.start_with?("webyast-")
  end
end

group :development do
  gem 'gettext', :require => false
  gem "ruby-debug"
  gem "factory_girl"
  gem 'ruby_parser' # needed for rake gettext:find
end

group :test do
  gem "ruby-debug"
  #gem "factory_girl"
  gem "factory_girl_rails"
  gem 'rspec', '>=2'
  gem 'rspec-rails', '>=2'
  #gem "shoulda", ">= 3.0.0.beta"
  gem "database_cleaner"
  gem "mocha"
  gem "assert_valid_markup"
end
